{% extends "base.html" %}

{% block title %}Checklist - {{ session.team_name }}{% endblock %}

{% block content %}
    <div id="countdown"></div>
    
    <h1>Checklist da Missão: {{ session.team_name }}</h1>
    
    <ul>
    {% for item in items %}
    <li class="glitch-checkbox-item"> <label class="glitch-checkbox-container">
            <input type="checkbox"
                id="item-{{ item.id }}"
                data-item-id="{{ item.id }}"
                onchange="updateItem(this)"
                {% if progress_map[item.id] %}checked{% endif %}>

            <div class="checkbox-box">
                <div class="checkbox-mark"></div>
            </div>

            <span class="checkbox-label" data-text="{{ item.description }}">
                {{ item.description }}
            </span>
        </label>
    </li>
    {% endfor %}
    </ul>

    {% if show_pitch_signup %}
    <div class="pitch-signup-section">
        <h2>INSCRIÇÃO PRÉ-PITCH (Início: 11h)</h2>
        <p class="subtitle">Ative o sistema para garantir o seu lugar na fila de apresentação.</p>

        <div class="checkbox-container">
            <input class="holo-checkbox-input" id="holo-check" type="checkbox" {% if has_interest %}checked{% endif %} onchange="togglePitchInterest(this)" />
            <label class="holo-checkbox" for="holo-check">
                <div class="holo-box"><div class="holo-inner"></div><div class="scan-effect"></div><div class="holo-particles"><div class="holo-particle"></div><div class="holo-particle"></div><div class="holo-particle"></div><div class="holo-particle"></div><div class="holo-particle"></div><div class="holo-particle"></div></div><div class="activation-rings"><div class="activation-ring"></div><div class="activation-ring"></div><div class="activation-ring"></div></div><div class="cube-transform"><div class="cube-face"></div><div class="cube-face"></div><div class="cube-face"></div><div class="cube-face"></div><div class="cube-face"></div><div class="cube-face"></div></div></div>
                <div class="corner-accent"></div><div class="corner-accent"></div><div class="corner-accent"></div><div class="corner-accent"></div><div class="holo-glow"></div>
            </label>
            <div class="status-text"></div>
            <div class="frequency-spectrum"><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div><div class="frequency-bar"></div></div>
            <div class="data-chips"><div class="data-chip">STATUS: IDLE [0x4F]</div><div class="data-chip">QUANTUM VERIFY: 82.6%</div><div class="data-chip">SYNCH: PENDING</div><div class="data-chip">0x7A2C8B9F</div></div>
        </div>

        <a class="button-link" href="{{ url_for('pitch_list') }}">Ver Fila de Apresentação</a>
    </div>
    {% endif %}
    
    <a href="{{ url_for('logout') }}">Sair</a>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}